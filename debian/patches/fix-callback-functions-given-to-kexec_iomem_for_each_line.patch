Description: Fix callback functions given to kexec_iomem_for_each_line
Author: Bernhard Ãœbelacker <bernhardu@vr-web.de>
Bug-Debian: https://bugs.debian.org/771671
Last-Update: <2014-12-15>

--- kexec-tools-2.0.7.orig/kexec/arch/i386/crashdump-x86.c
+++ kexec-tools-2.0.7/kexec/arch/i386/crashdump-x86.c
@@ -1041,8 +1041,8 @@ int get_max_crash_kernel_limit(uint64_t
 
 static int crashkernel_mem_callback(void *UNUSED(data), int nr,
                                           char *UNUSED(str),
-                                          unsigned long base,
-                                          unsigned long length)
+                                          unsigned long long base,
+                                          unsigned long long length)
 {
 	if (nr >= CRASH_RESERVED_MEM_NR)
 		return 1;
--- kexec-tools-2.0.7.orig/kexec/arch/sh/crashdump-sh.c
+++ kexec-tools-2.0.7/kexec/arch/sh/crashdump-sh.c
@@ -34,8 +34,8 @@ static struct memory_range crash_memory_
 static int crash_sh_range_nr;
 static int crash_sh_memory_range_callback(void *UNUSED(data), int UNUSED(nr),
 					  char *str,
-					  unsigned long base,
-					  unsigned long length)
+					  unsigned long long base,
+					  unsigned long long length)
 {
 
 	struct memory_range *range = crash_memory_range;
--- kexec-tools-2.0.7.orig/kexec/arch/sh/kexec-sh.c
+++ kexec-tools-2.0.7/kexec/arch/sh/kexec-sh.c
@@ -24,8 +24,8 @@ static struct memory_range memory_range[
 
 static int kexec_sh_memory_range_callback(void *UNUSED(data), int nr,
 					  char *UNUSED(str),
-					  unsigned long base,
-					  unsigned long length)
+					  unsigned long long base,
+					  unsigned long long length)
 {
 	if (nr < MAX_MEMORY_RANGES) {
 		memory_range[nr].start = base;
